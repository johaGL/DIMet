ALERT! when finished the fitting part improvements, re-integrate the univariate tests . == DONE

bug when running prepare in example2 dataset, function calculate_meanEnri in loop for met__i in metabolites

!! 17 02 2023 :
config that I used to put in pycharm:
--mode diffabund --mywdir ~/myelin_metabo --config ~/myelin_metabo/configs/cmyelin_disfit-1.yml --isotoAbsolutes_zero_replace min/1.01 --padj 0.8

things are going to change deeply, from now

- reminder: isotopologues_meaning_df was before 

-----------------
NEW VERSION since 17 02 2023 (Friday)
--------
config :

data is data as received ! from isocor or VIB. Third option for 'generic'

tmp no, instead 'prepared'

extrulist : "mets_toexclude" : make this a advanced-optional option !

for lineplots fracccontrib: give as many colors (automatic) as metabolites :)
make the linees plus epaisses !

also_total_marked : "N" no by default , BETTER MAKE IT AS ADVANCED-optional OPTION!

- PREP DANGER !! 
  # both abus and isotopologues ???? :

    parser.add_argument("--amountMaterial", default=None, type=str,
                        help="path to a .tsv file containing the amount of material (number of cells, mg tissue) by sample.\
                         The abundances will be divided by these values (sample specific)")
                         
                         is this to absolute isotopologues as well ?? i would say yes



- diff:
change the behaviour, no longer use values * proportions to yield
those ugly difficult to anlyse isotopologue values.
 grep abufrom *.py
abundances_bars.py:This script exploits species and compartment specific tables at 'data/abufromperc/'
functions_diffmode.py:    abunda_species_4diff_dir = dirtmpdata + "abufromperc/"
__init__.py:abunda_species_4diff_dir = dirtmpdata + "abufromperc/"

PCA problem ! :  the thing "sample_descrip" (old __init__) pases to pca_fun as pointlabels. Solve: create sample_descrip before invoking pca, because that column does not exist in metadata!!! 

- resolve: - fracccontrib and isos proportions when not given ! 




------
complete readme:
"""
    put into readme:
    
    - You, the user, your results passed already through the procedure of correcting (the areas or intensities) for the presence of isotopologues in nature. There are several software options (for example IsoCor or El-Maven) to perform that correction, before using our DIMet. 
    
    
    - config file related : 
    
    # when IsoCor type of input, just declare the desired tables' names
# if 'generic' type of input, any missing table must be: null.
    
    - metadata related:
    
    # systematically README says that metadata has 'former_name','sample' and the other columns, and it is 'sample' what will replace former_name in the tables !
    # and it can be the same if you want to keep the spirit.
    # other_prep NO, better 'universal_prep' :  and set a toyUni1/ with which I call universal data

    
    -  concerning the isocorOutput:
    the output as in :https://isocor.readthedocs.io/en/latest/tutorials.html#output-files
    is transformed into tables, as follows:
    corrected_area -> isotopologuesAbsolute;  
    isotopologue_fraction -> isotopologuesProportions;
    mean_enrichment ->  meanEnrich_or_fracContrib
     ; and at the end, Abundance table is the sum (per metabolite) of IsotopologuesAbsolute ;
    
    Please stick to the example 'toy2' for the names of the tables for isocorOutput
    note:   mean_enrichment (IsoCor) is the same as fractionalContribution (VIB) .
    
    
    But  for VIB data, as shown in the example 'toy1' ,
    give the names of the sheets in your excel file
     
    * # the advantage of absolute is that, if more than 5 samples, T-test is allowed, whereas proportions allways disfit or KW *




    * Negative proportions can occur, for example, after El-Maven isotopologues correction.
    
    
    
    
Say thanks to Joris and Thomas Daubon's team for their data, cite joris in the readme ! 
    """


---------


